(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41867aa0","chunk-dffd71b4","chunk-2d208fb9"],{1353:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));r("99af"),r("4160"),r("a15b"),r("b64b"),r("ac1f"),r("5319"),r("159b");var a={methods:{refreshCaptcha:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code";this.$refs[t].src="/captcha?".concat(Math.random())}}},s={methods:{toPage:function(e){this.$emit("toPage",e),/&?captcha=.*&?/.test(window.location.href)&&(window.history.pushState({},0,window.location.href.replace(/&?captcha=.*&?/,"")),window.history.pushState({},0,window.location.href.replace(/&?email=.*&?/,""))),this.$route.query.captcha="",this.$route.query.email=""},restField:function(e){return Object.keys(e).forEach((function(t){e[t]=""}))}}}},"5abc":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-login--content-main",attrs:{flex:"dir:top main:center cross:center"}},[a("img",{staticClass:"page-login--logo",attrs:{src:r("a6b0")}}),a("h3",[e._v("注册页面")]),a("div",{staticClass:"page-login--form"},[a("el-card",{attrs:{shadow:"never"}},[a("el-form",{ref:"registerForm",attrs:{"label-position":"top",rules:e.rules,model:e.formRegister,size:"default","status-icon":""}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.formRegister.username,callback:function(t){e.$set(e.formRegister,"username",t)},expression:"formRegister.username"}},[a("i",{staticClass:"fa fa-user-circle-o",attrs:{slot:"prepend"},slot:"prepend"})])],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formRegister.password,callback:function(t){e.$set(e.formRegister,"password",t)},expression:"formRegister.password"}},[a("i",{staticClass:"fa fa-keyboard-o",attrs:{slot:"prepend"},slot:"prepend"})])],1),a("el-form-item",{attrs:{prop:"repassword"}},[a("el-input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:e.formRegister.repassword,callback:function(t){e.$set(e.formRegister,"repassword",t)},expression:"formRegister.repassword"}},[a("i",{staticClass:"fa fa-keyboard-o",attrs:{slot:"prepend"},slot:"prepend"})])],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{type:"text",placeholder:"邮箱"},model:{value:e.formRegister.email,callback:function(t){e.$set(e.formRegister,"email",t)},expression:"formRegister.email"}},[a("i",{staticClass:"fa fa-envelope",attrs:{slot:"prepend","aria-hidden":"true"},slot:"prepend"})])],1),a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{type:"text",placeholder:"验证码"},model:{value:e.formRegister.code,callback:function(t){e.$set(e.formRegister,"code",t)},expression:"formRegister.code"}},[a("template",{slot:"append"},[a("img",{ref:"code",staticClass:"login-code",attrs:{src:"/captcha"},on:{click:e.refreshCaptcha}})])],2)],1),a("el-button",{staticClass:"button-login",attrs:{size:"default",type:"primary"},on:{click:e.submit}},[e._v(" 注册 ")])],1)],1),a("p",{staticClass:"page-login--options",attrs:{flex:"main:justify cross:center"}},[a("span",{on:{click:function(t){return e.toPage("login")}}},[a("d2-icon",{attrs:{name:"arrow-left"}}),e._v(" 返回")],1)])],1)])},s=[],o=(r("96cf"),r("1da1")),i=r("1353"),n={mixins:[i["a"],i["b"]],activated:function(){this.refreshCaptcha()},data:function(){var e=this;return{formRegister:{username:"",password:"",repassword:"",code:"",email:""},rules:{username:[{required:!0,message:"请输入用户名,长度最小6位",trigger:"blur",min:6,max:12}],password:[{required:!0,message:"请输入密码",trigger:"blur",max:12,min:4}],repassword:[{validator:function(t,r,a){r?r!==e.formRegister.password?a(new Error("两次输入的密码不一致")):a():a(new Error("请再次输入密码"))},trigger:"blur"}],code:[{validator:function(e,t,r){""!==t&&t?isNaN(t)&&r(new Error("请输入有效的验证码")):r(new Error("请输入验证码")),r()},trigger:"blur"}],email:[{validator:function(e,t,r){t?/^[0-9a-zA-Z]+[@][0-9a-zA-Z]+([.][a-zA-Z]+){1,2}$/.test(t)?r():r(new Error("请输入正确的邮箱")):r(new Error("请输入邮箱"))},trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.registerForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,e.$api.SYS_USER_REGISTRY(e.formRegister);case 3:t.sent,e.restField(e.formRegister),e.toPage("login"),t.next=9;break;case 8:e.$message.error("表单校验失败，请检查");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},l=n,c=r("2877"),p=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=p.exports},"64f7":function(e,t,r){"use strict";r.r(t);var a=r("5abc");t["default"]=a["default"]},a6b0:function(e,t,r){e.exports=r.p+"img/logo@2x.05fe4930.png"}}]);